<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>

    //call()和apply()
    //都是函数对象的方法，需要通过函数对象来调用
    //当函数调用call()和apply()时，都会调用函数执行

    function fun() {
        alert(this)
    }

    fun.apply();   //[object Window]
    fun.call();    //[object Window]
    fun();         //[object Window]

    var obj = {};

    fun.apply(obj);   //[object Object]
    fun.call(obj);    //[object Object]


//============================================================================

    // 在调用call()和apply()时，可以将第一个对象指定为第一个参数,

    // 此时这个对象将会成为函数执行时的this
    var obj1 = {
        name:"xxx",
        sayname:function () {
            alert(this.name)
        }
    };
    var obj2 = {name:"ccc"};

    function fun1() {
        alert(this.name)
    }

    fun1.apply(obj1);   //xxx
    fun1.call(obj2);    //ccc

    obj1.sayname.apply(obj2);  //ccc

//========================================================================

    // call()方法可以将实参在对象后依次传递
    // apply()方法需要将实参封装到一个数组中统一传递
    function fun2(a,b) {
        alert("a = "+a);
        alert("b = "+b);
    }
    fun2.call(obj,2,3)     //可以直接传实参
    fun2.apply(obj,[2,3])  //要用数组传实参

//===========================================================================

    //this的情况
    //1.以函数的形式调用，this永远是Windows
    //2.以方法的形式调用，this时调用方法的对象
    //3.以构造函数的形式调用，this是新创建的那个对象
    //4.使用call和apply调用，this是指定的那个对象

</script>
</html>